<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Under Five Health Check-Up - Offline</title>
        <link rel="manifest" href="/manifest.json">
        <meta name="theme-color" content="#4F46E5">

        <style>
            /* Include critical CSS inline for offline page */
            body {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
                margin: 0;
                padding: 0;
                color: #1a202c;
                background-color: #f7fafc;
                min-height: 100vh;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
            }

            .offline-container {
                text-align: center;
                padding: 2rem;
                max-width: 500px;
                margin: 0 auto;
                background-color: white;
                border-radius: 0.5rem;
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            }

            .offline-icon {
                width: 100px;
                height: 100px;
                margin: 0 auto 1.5rem;
                display: block;
                border-radius: 50%;
                background-color: #EBF4FF;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .offline-icon svg {
                width: 50px;
                height: 50px;
                color: #4F46E5;
            }

            h1 {
                color: #2D3748;
                font-size: 1.5rem;
                margin-bottom: 1rem;
            }

            p {
                color: #4A5568;
                margin-bottom: 1.5rem;
                line-height: 1.5;
            }

            .button {
                display: inline-block;
                background-color: #4F46E5;
                color: white;
                font-weight: 600;
                padding: 0.75rem 1.5rem;
                border-radius: 0.375rem;
                text-decoration: none;
                border: none;
                cursor: pointer;
                transition: background-color 0.3s;
            }

            .button:hover {
                background-color: #4338CA;
            }

            .button-secondary {
                background-color: transparent;
                border: 1px solid #CBD5E0;
                color: #4A5568;
                margin-left: 0.5rem;
            }

            .button-secondary:hover {
                background-color: #F7FAFC;
                color: #2D3748;
            }

            .last-sync {
                margin-top: 1.5rem;
                font-size: 0.875rem;
                color: #718096;
            }

            .offline-features {
                margin-top: 1.5rem;
                text-align: left;
            }

            .offline-features h2 {
                font-size: 1.125rem;
                margin-bottom: 0.75rem;
                color: #2D3748;
            }

            .feature-list {
                padding-left: 1.5rem;
                margin: 0;
            }

            .feature-list li {
                margin-bottom: 0.5rem;
                color: #4A5568;
            }
        </style>
    </head>

    <body>
        <div class="offline-container">
            <div class="offline-icon">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z" />
                </svg>
            </div>

            <h1>You are currently offline</h1>

            <p>It looks like you don't have an internet connection right now. Some features of the Under Five Health
                Check-Up app may be limited until you're back online.</p>

            <div>
                <button class="button" onclick="window.location.reload()">
                    Try Again
                </button>
                <button class="button button-secondary" onclick="window.history.back()">
                    Go Back
                </button>
            </div>

            <div class="offline-features">
                <h2>Available Offline:</h2>
                <ul class="feature-list">
                    <li>View previously loaded appointments</li>
                    <li>Access your children's basic information</li>
                    <li>View healthcare guidelines</li>
                </ul>
            </div>

            <p class="last-sync">
                Last synchronized: <span id="last-sync-time">Unknown</span>
            </p>
        </div>

        <script>
            // Update the last sync time if available
            document.addEventListener('DOMContentLoaded', function () {
                const lastSync = localStorage.getItem('lastSyncTime');
                const lastSyncElement = document.getElementById('last-sync-time');

                if (lastSync) {
                    const date = new Date(parseInt(lastSync));
                    lastSyncElement.textContent = date.toLocaleString();
                }
            });
        </script>
    </body>

</html>